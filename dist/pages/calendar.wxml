
  <view class="_2d69130">
   
  <view class="_91f61f8 _2d69130">
    <view class="calendar-wrapper _91f61f8">
      <view class="calendar-content _91f61f8">
        <view class="pick-view _91f61f8">
          <view class="pick-img _91f61f8">
            <view class="_91f61f8">
              <image bindtap="$singleCalendar$toPreMonth" src="{{$singleCalendar$image.leftCan}}" class="_91f61f8"/>
            </view>
            <view class="_91f61f8">
              <image bindtap="$singleCalendar$toNextMonth" src="{{$singleCalendar$image.rightCan}}" class="_91f61f8"/>
            </view>
          </view>
          <view class="flex-center picker _91f61f8">
            {{$singleCalendar$viewTime.year}}年{{$singleCalendar$viewTime.month}}月
          </view>
        </view>
        <view class="week flex-center _91f61f8">
          <block  wx:for="{{$singleCalendar$weeksCh}}" wx:key="{{item}}" class="_91f61f8">
            <view class="flex-center _91f61f8">{{item}}</view>
          </block>
        </view>
        <view class="day clearfix _91f61f8">
          <block  wx:for="{{$singleCalendar$viewDays}}" wx:key="{{item.key}}" class="_91f61f8">
            <view bindtap="$singleCalendar$changeResultTime" data-index="{{index}}" data-item="{{item}}" class="flex-center {{(item.formatDay === $singleCalendar$current.formatDay)&&(item.month === $singleCalendar$viewTime.month && item.year === $singleCalendar$viewTime.year) ? 'restime' : ''}} _91f61f8">
              <!-- 每月的天数 -->
              <view class="day-item {{!(item.month === $singleCalendar$viewTime.month && item.year === $singleCalendar$viewTime.year)? 'opacity_text' : ''  }}{{($singleCalendar$initialDate > item.formatDay && item.month === $singleCalendar$viewTime.month) ? 'not-view-month' : ''}} _91f61f8">
           
              <view class="redball _91f61f8" wx:if="{{item.isday}}"/> 
              
               {{item.day}}
                </view>
              <!-- 当天的值加重显示 -->
              <view style="background-color: {{$singleCalendar$color}}" wx-if="{{(item.formatDay === $singleCalendar$current.formatDay)&&(item.month === $singleCalendar$viewTime.month && item.year === $singleCalendar$viewTime.year)}}" class="round _91f61f8"> </view>
            </view>
          </block>
        </view>
      </view>
    </view>
  </view>
   <view class="downlist _2d69130">
    <view class="addbutton _2d69130">
       <view class="_2d69130">
       当日日程：{{nowtime?nowtime:""}}
     </view>
      <van-icon bindtap="newricheng" name="add" size="30px" color="#438df7" class="_2d69130"/>
    </view>
    <view class="content _2d69130">
     <van-cell-group class="_2d69130">
            <van-cell wx-if="{{nowtimelist.length>0}}"  wx:for="{{nowtimelist}}" id="{{item.id}}" wx:key="index" title="{{item.name}}" is-link="is-link"  bind:click="viewricheng" class="_2d69130"/>
      </van-cell-group>
     </view>
    </view>

    <van-popup show="{{ show }}" closeable="closeable" close-icon="close" position="bottom" custom-style="height: 100%"  bind:close="onClose" z-index="500" class="_2d69130">
<view class="popcentext _2d69130">
  <van-nav-bar title="日程信息" left-text="返回" left-arrow="left-arrow" bind:click-left="onClickLeft" class="_2d69130"/>

 <view wx:if="{{isview}}" class="_2d69130">
   <van-cell-group>
  <van-cell title="日程名称：" value="{{$viewcalendar$calendarinfos.name}}"/>
  <van-cell title="预约场地名称：" value="{{$viewcalendar$calendarinfos.site.name}}"/>
  <van-cell title="预约场馆名称：" value="{{$viewcalendar$calendarinfos.venue.name}}"/>
  <van-cell title="接待时间：" value="{{$viewcalendar$calendarinfos.receptionDateTime}}"/>
  <van-cell title="接待人名称：" value="{{}}"/>
  <van-cell title="客户：" value="{{$viewcalendar$calendarinfos.customer.defaultName}}"/>
  <van-cell title="对接人名称：" value="{{$viewcalendar$calendarinfos.dockingName}}"/>
  <van-cell title="对接人联系方式：" value="{{$viewcalendar$calendarinfos.dockingMobile}}"/>
</van-cell-group>
 </view>
<view  wx:else class="_2d69130"/>

 <view wx:if="{{isedit}}" class="_2d69130">
   <van-cell-group>
       <van-field value="{{ $editcalendar$calendarinfo.name }}" label="日程名称：" placeholder="请输入日程名称" border="{{ $editcalendar$false }}" id="name"  bind:change="$editcalendar$onChange"/>
  <van-field value="{{ $editcalendar$calendarinfo.siteId }}" label="预约场地名称：" placeholder="请输入预约场地名称" border="{{ $editcalendar$false }}" id="siteId"  bind:change="$editcalendar$onChange" bind:focus="$editcalendar$onasfocus"/>
  <van-field value="{{ $editcalendar$calendarinfo.venueId }}" label="预约场馆名称：" placeholder="请输入预约场馆名称" border="{{ $editcalendar$false }}" id="venueId" bind:change="$editcalendar$onChange"/>
  <van-field value="{{ $editcalendar$calendarinfo.receptionDateTime }}" label="接待时间：" placeholder="请输入接待时间" border="{{ $editcalendar$false }}" id="receptionDateTime" disabled bind:change="$editcalendar$onChange">
    <van-button bindtap="$editcalendar$opentime" slot="button" size="small" type="info">选择时间</van-button>
    </van-field>
  <van-field value="{{ $editcalendar$calendarinfo.receptionId }}" label="接待人名称：" placeholder="请输入接待人名称" border="{{ $editcalendar$false }}" id="receptionId" bind:change="$editcalendar$onChange"/>
  <van-field value="{{ $editcalendar$calendarinfo.customerId }}" label="客户：" placeholder="请输入客户" border="{{ $editcalendar$false }}" id="customerId" bind:change="$editcalendar$onChange"/>
   <van-field value="{{ $editcalendar$calendarinfo.dockingName }}" label="对接人名称：" placeholder="请输入对接人名称" border="{{ $editcalendar$false }}" id="dockingName" bind:change="$editcalendar$onChange"/>
  <van-field value="{{ $editcalendar$calendarinfo.dockingMobile }}" label="对接人联系方式：" placeholder="请输入对接人联系方式" border="{{ $editcalendar$false }}" id="dockingMobile" bind:change="$editcalendar$onChange"/>
</van-cell-group>
<!-- <van-button type="default">默认按钮</van-button>
<van-button type="info">信息按钮</van-button> -->
<button bindtap="$editcalendar$aaa">asdas</button>

<!--                控件                  -->
 <van-popup show="{{ $editcalendar$showpop }}" closeable="closeable" position="bottom" custom-style="height: 50%" bind:close="$editcalendar$onClose" z-index="610">
  <van-datetime-picker type="time" value="{{ $editcalendar$currentDate }}" min-hour="{{ $editcalendar$minHour }}" max-hour="{{ $editcalendar$maxHour }}" bind:input="$editcalendar$onInput"/>
</van-popup>

<van-popup show="{{ $editcalendar$showpk }}" closeable="closeable" position="bottom" custom-style="height: 50%" bind:close="$editcalendar$onClose" overlay="true" z-index="610">
<view>
<van-picker columns="{{ $editcalendar$columns }}" bind:change="$editcalendar$onChange"/>
</view>
</van-popup>

 </view>
<view wx:else class="_2d69130"/>
</view>
</van-popup>

   </view>